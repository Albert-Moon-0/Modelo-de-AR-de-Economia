<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AR Econom√≠a</title>

  <!-- A-Frame y AR.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.4.2/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/3.4.5/aframe/build/aframe-ar.js"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { overflow: hidden; font-family: 'Segoe UI', sans-serif; background: #0a0a0a; }

    /* Pantalla de bienvenida */
    #splash {
      position: fixed; inset: 0; z-index: 9999;
      background: linear-gradient(135deg, #0a0a2e, #1a1a4e, #0d2137);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      gap: 24px; padding: 32px; text-align: center;
      transition: opacity 0.6s ease;
    }
    #splash h1 {
      font-size: clamp(2rem, 6vw, 3.5rem);
      font-weight: 900; letter-spacing: -2px;
      background: linear-gradient(90deg, #00d4ff, #7b2fff, #00d4ff);
      background-size: 200%;
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      animation: shimmer 3s linear infinite;
    }
    @keyframes shimmer { to { background-position: 200% center; } }
    #splash p { color: #aaa; font-size: 1rem; max-width: 340px; line-height: 1.6; }
    #splash .marker-hint {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px; padding: 20px 28px;
      color: #ccc; font-size: 0.9rem; line-height: 1.7;
    }
    #splash .marker-hint strong { color: #00d4ff; }
    #start-btn {
      background: linear-gradient(135deg, #00d4ff, #7b2fff);
      border: none; border-radius: 50px;
      color: #fff; font-size: 1.1rem; font-weight: 700;
      padding: 14px 42px; cursor: pointer;
      box-shadow: 0 0 30px rgba(0,212,255,0.4);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    #start-btn:hover { transform: scale(1.05); box-shadow: 0 0 50px rgba(0,212,255,0.6); }
    #splash.hidden { opacity: 0; pointer-events: none; }

    /* HUD superior */
    #hud {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      background: linear-gradient(180deg, rgba(0,0,0,0.8), transparent);
      padding: 16px 24px;
      display: flex; align-items: center; justify-content: space-between;
      display: none;
    }
    #hud .logo { color: #00d4ff; font-weight: 900; font-size: 1.1rem; letter-spacing: 1px; }
    #hud .concept-name {
      color: #fff; font-size: 0.85rem;
      background: rgba(123,47,255,0.5);
      border: 1px solid rgba(123,47,255,0.8);
      border-radius: 20px; padding: 4px 14px;
    }

    /* Indicador de escaneo */
    #scan-hint {
      position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%);
      z-index: 100; color: rgba(255,255,255,0.7);
      font-size: 0.85rem; text-align: center;
      animation: pulse 2s ease-in-out infinite;
      display: none;
    }
    @keyframes pulse { 0%,100% { opacity: 0.5; } 50% { opacity: 1; } }
    #scan-hint .icon { font-size: 2rem; display: block; margin-bottom: 6px; }

    /* Lista de marcadores en la gu√≠a */
    .marker-list { list-style: none; text-align: left; }
    .marker-list li { padding: 4px 0; }
    .marker-list li::before { content: "‚ñ∂ "; color: #7b2fff; }
  </style>
</head>
<body>

<!-- ============================================================
     PANTALLA DE BIENVENIDA
     ============================================================ -->
<div id="splash">
  <h1>AR Econom√≠a</h1>
  <p>Apunta tu c√°mara a los <strong style="color:#00d4ff">marcadores impresos</strong> para ver los conceptos en realidad aumentada.</p>

  <div class="marker-hint">
    <strong>Marcadores disponibles:</strong><br>
    <ul class="marker-list">
      <li>Marcador HIRO ‚Üí <strong style="color:#00d4ff">Oferta y Demanda</strong></li>
      <li>Marcador KANJI ‚Üí <strong style="color:#7b2fff">Inflaci√≥n</strong></li>
      <!-- Agrega m√°s conforme a√±adas conceptos -->
    </ul>
    <br>
    Descarga los marcadores en la p√°gina <strong>marcadores.html</strong>
  </div>

  <button id="start-btn" onclick="iniciarAR()">üì∑ Iniciar C√°mara</button>
</div>

<!-- HUD -->
<div id="hud">
  <span class="logo">üìä AR ECON</span>
  <span class="concept-name" id="concept-label">Buscando marcador‚Ä¶</span>
</div>

<!-- Hint de escaneo -->
<div id="scan-hint">
  <span class="icon">üîç</span>
  Apunta la c√°mara a un marcador
</div>


<!-- ============================================================
     ESCENA AR
     ============================================================ -->
<a-scene
  id="ar-scene"
  embedded
  arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
  vr-mode-ui="enabled: false"
  renderer="logarithmicDepthBuffer: true; antialias: true;"
  style="display:none; position:fixed; inset:0;">


  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       CONCEPTO 1: OFERTA Y DEMANDA
       Marcador: HIRO (el m√°s f√°cil de imprimir)
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <a-marker preset="hiro" id="marker-hiro"
            markerhandler="label: Oferta y Demanda">

    <!-- Panel de fondo -->
    <a-plane
      color="#0d1b2a"
      opacity="0.92"
      width="3" height="1.8"
      position="0 0.9 0"
      rotation="-90 0 0"
      material="side: double">
    </a-plane>

    <!-- T√≠tulo -->
    <a-text
      value="OFERTA Y DEMANDA"
      color="#00d4ff"
      align="center"
      width="2.8"
      position="0 1.75 0.01"
      rotation="-90 0 0"
      font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
      negate="false">
    </a-text>

    <!-- L√≠nea divisoria -->
    <a-plane color="#00d4ff" opacity="0.6" width="2.6" height="0.02"
             position="0 1.55 0.01" rotation="-90 0 0"></a-plane>

    <!-- Cuerpo del texto -->
    <a-text
      value="La LEY DE DEMANDA dice que\na mayor precio, menor cantidad\ndemandada por los consumidores.\n\nLa LEY DE OFERTA dice lo contrario:\na mayor precio, m√°s producen\nlos vendedores.\n\nEl EQUILIBRIO es el punto donde\noferta = demanda."
      color="#e0e0e0"
      align="center"
      width="2.5"
      position="0 1.3 0.01"
      rotation="-90 0 0"
      wrap-count="35">
    </a-text>

    <!-- Flecha decorativa de oferta (verde) -->
    <a-cone color="#00ff88" radius-bottom="0.08" radius-top="0"
            height="0.35" position="-0.9 0.5 0"
            rotation="-90 0 0" opacity="0.9">
    </a-cone>
    <a-cylinder color="#00ff88" radius="0.04" height="0.3"
                position="-0.9 0.2 0" rotation="-90 0 0" opacity="0.9">
    </a-cylinder>

    <!-- Flecha decorativa de demanda (rojo) -->
    <a-cone color="#ff4466" radius-bottom="0.08" radius-top="0"
            height="0.35" position="0.9 0.2 0"
            rotation="90 0 0" opacity="0.9">
    </a-cone>
    <a-cylinder color="#ff4466" radius="0.04" height="0.3"
                position="0.9 0.5 0" rotation="-90 0 0" opacity="0.9">
    </a-cylinder>

    <!-- Esfera de equilibrio animada -->
    <a-sphere color="#ffcc00" radius="0.12"
              position="0 0.35 0"
              animation="property: position; to: 0 0.6 0; dur: 1200; dir: alternate; loop: true; easing: easeInOutSine">
    </a-sphere>

  </a-marker>


  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       CONCEPTO 2: INFLACI√ìN
       Marcador: KANJI
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <a-marker preset="kanji" id="marker-kanji"
            markerhandler="label: Inflaci√≥n">

    <!-- Panel -->
    <a-plane
      color="#1a0a2e"
      opacity="0.92"
      width="3" height="1.8"
      position="0 0.9 0"
      rotation="-90 0 0"
      material="side: double">
    </a-plane>

    <!-- T√≠tulo -->
    <a-text
      value="INFLACI√ìN"
      color="#ff4466"
      align="center"
      width="2.8"
      position="0 1.75 0.01"
      rotation="-90 0 0"
      font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
      negate="false">
    </a-text>

    <a-plane color="#ff4466" opacity="0.6" width="2.6" height="0.02"
             position="0 1.55 0.01" rotation="-90 0 0"></a-plane>

    <a-text
      value="La INFLACI√ìN es el aumento\ngeneralizado y sostenido en el\nnivel de precios de bienes\ny servicios.\n\nSe mide con el IPC\n(√çndice de Precios al Consumidor).\n\nCausas: exceso de dinero en\ncirculaci√≥n, aumento de costos,\no mayor demanda."
      color="#e0e0e0"
      align="center"
      width="2.5"
      position="0 1.3 0.01"
      rotation="-90 0 0"
      wrap-count="35">
    </a-text>

    <!-- Monedas animadas ascendentes -->
    <a-cylinder color="#ffcc00" radius="0.1" height="0.03"
                position="-0.7 0.3 0"
                animation="property: position; to: -0.7 0.8 0; dur: 1500; dir: alternate; loop: true; easing: easeInOutSine">
    </a-cylinder>
    <a-cylinder color="#ffcc00" radius="0.1" height="0.03"
                position="0 0.1 0"
                animation="property: position; to: 0 0.7 0; dur: 1800; dir: alternate; loop: true; easing: easeInOutSine; delay: 300">
    </a-cylinder>
    <a-cylinder color="#ffcc00" radius="0.1" height="0.03"
                position="0.7 0.2 0"
                animation="property: position; to: 0.7 0.75 0; dur: 1600; dir: alternate; loop: true; easing: easeInOutSine; delay: 600">
    </a-cylinder>

    <!-- Flecha hacia arriba (precio subiendo) -->
    <a-cone color="#ff4466" radius-bottom="0.12" radius-top="0"
            height="0.4"
            position="0 0.55 0"
            rotation="-90 0 0"
            animation="property: scale; to: 1.3 1.3 1.3; dur: 900; dir: alternate; loop: true">
    </a-cone>

  </a-marker>


  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       CONCEPTO 3: PLACEHOLDER (agrega m√°s aqu√≠)
       Marcador: LETTERF (puedes cambiar el preset)
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--
  <a-marker preset="letterF" id="marker-pib" markerhandler="label: PIB">
    ... tu contenido aqu√≠ ...
  </a-marker>
  -->


  <!-- C√°mara AR -->
  <a-entity camera></a-entity>
</a-scene>


<!-- ============================================================
     L√ìGICA JAVASCRIPT
     ============================================================ -->
<script>
  // Componente para detectar qu√© marcador est√° visible y actualizar el HUD
  AFRAME.registerComponent('markerhandler', {
    schema: { label: { type: 'string', default: '' } },
    init() {
      const label = document.getElementById('concept-label');
      this.el.addEventListener('markerFound', () => {
        label.textContent = this.data.label;
        label.style.borderColor = '#00d4ff';
      });
      this.el.addEventListener('markerLost', () => {
        label.textContent = 'Buscando marcador‚Ä¶';
        label.style.borderColor = 'rgba(123,47,255,0.8)';
      });
    }
  });

  function iniciarAR() {
    document.getElementById('splash').classList.add('hidden');
    document.getElementById('ar-scene').style.display = 'block';
    document.getElementById('hud').style.display = 'flex';
    document.getElementById('scan-hint').style.display = 'block';

    // Ocultar splash completamente despu√©s de la transici√≥n
    setTimeout(() => {
      document.getElementById('splash').style.display = 'none';
    }, 700);
  }
</script>

</body>
</html>
